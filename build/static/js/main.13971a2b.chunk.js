(this["webpackJsonpgoomer-challenge"]=this["webpackJsonpgoomer-challenge"]||[]).push([[0],{50:function(n,e,t){n.exports=t(96)},96:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(15),c=t.n(o),i=t(20),u=t(46),s=t(13),l=t(23),m=t.n(l),f=t(14);function d(n){return"".concat(n/16,"rem")}var b=t(101),p=t(102),h=t(39),g=t(103),v=t(104),j=t(105),y=t(38);function O(n){return Number(n.split(":")[0])}function x(n){return Number(n.split(":")[1])}function E(n){return Object(y.parseFromTimeZone)(n,{timeZone:"America/Bahia"})}function w(n){var e=n.hours,t=n.minutes,a=(new Date).setHours(0),r=new Date(a).setMinutes(0),o=E(new Date(r));return Object(b.a)(Object(p.a)(o,e),t)}function k(n){return n.filter((function(n){var e=E(new Date).getDay()+1;if(0===n.days.filter((function(n){return n===e})).length)return!1;var t,a=new Date,r=w({hours:O(n.from),minutes:x(n.from)});if(O(n.to)<O(n.from)&&O(n.to)<a.getHours())t=Object(h.a)(w({hours:O(n.to),minutes:x(n.to)}),1);else{t=w({hours:O(n.to),minutes:x(n.to)});O(n.to)>=a.getHours()&&O(n.from)>=18&&(r=Object(g.a)(r,1))}return console.log("now",a),console.log("from",r),console.log("to",t),console.log("isAfter(now, from) && isBefore(now, to)",Object(v.a)(a,r)&&Object(j.a)(a,t)),Object(v.a)(a,r)&&Object(j.a)(a,t)})).length>0}var z=t(5),B=t(3),C={primary:"#009CA3",secondary:"#2B0D61",secondaryLight:"#B5ABD4",white:"#fff",grey:"#FBFBFB",black:"#404040",dark:"#000",danger:"#f55"},D={size0:{"font-size":"".concat(.5,"rem")},size1:{"font-size":"".concat(.75,"rem")},size2:{"font-size":"".concat(1,"rem")},size3:{"font-size":"".concat(1.5,"rem")}},R=(d(1300),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d(4*n)}),S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d(8*n)};t(73);function N(){var n=Object(z.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  *:focus {\n    outline: 0;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font-family: Montserrat, sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    list-style: none;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  p, span {\n    backface-visibility: hidden;\n  }\n"]);return N=function(){return n},n}var A=Object(B.a)(N());function M(){var n=Object(z.a)(["\n  width: 100vw;\n  height: ",";\n  box-shadow: 0px 4px 8px #00000029;\n  margin-bottom: ",";\n\n  background-color: ",";\n"]);return M=function(){return n},n}var F=B.c.div(M(),d(62),S(4),C.primary);function H(){return r.a.createElement(F,null)}var J=t(48);function L(){var n=Object(z.a)(["\n  height: ",";\n  width: 80%;\n  max-width: ",";\n  box-shadow: 0px 2px 4px #00000029;\n  padding: 0 ",";\n  border-radius: ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  background: ",";\n\n  > input {\n    border: none;\n    width: 100%;\n\n    font-weight: 500;\n    color: ",";\n    background: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  > button {\n    border: none;\n\n    background: transparent;\n  }\n"]);return L=function(){return n},n}var q=B.c.div(L(),S(5),d(840),S(3),R(10),C.grey,C.black,C.grey,C.black);function Q(n){var e=n.searchRestaurant,t=n.setSearchRestaurant;return r.a.createElement(q,null,r.a.createElement("input",{type:"text",value:e,placeholder:"Buscar estabelecimento",onChange:function(n){return t(n.target.value)}}),r.a.createElement("button",{type:"button",onClick:function(){}},r.a.createElement(J.a,{size:16,color:C.black})))}function U(){var n=Object(z.a)(["\n  position: absolute;\n  right: ",";\n  top: ",";\n\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: 0.3s;\n  background: ",";\n\n  > span {\n    ",";\n    font-weight: 700;\n    text-align: center;\n    color: ",";\n  }\n"]);return U=function(){return n},n}function W(){var n=Object(z.a)(["\n  position: relative;\n\n  width: 100%;\n  max-width: ",";\n  box-shadow: 0px 2px 4px #00000029;\n  border-radius: ",";\n\n  display: flex;\n  align-items: center;\n\n  cursor: pointer;\n\n  &:hover {\n    > .flag {\n      transform: scale(1.3);\n    }\n  }\n\n  > img {\n    width: ",";\n    height: ",";\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n\n    object-fit: cover;\n  }\n\n  .info {\n    margin-left: ",";\n\n    > h1 {\n      margin-bottom: ",";\n\n      ",";\n      font-weight: 500;\n      color: ",";\n    }\n\n    p {\n      & + p {\n        margin-top: ",";\n      }\n\n      ",";\n      font-weight: 400;\n      color: ",";\n    }\n\n    > .hours {\n      margin-top: ",";\n\n      display: flex;\n      align-items: center;\n\n      > p {\n        margin-right: ",";\n\n        font-weight: 700;\n      }\n    }\n  }\n"]);return W=function(){return n},n}var I=B.c.a(W(),d(367),R(),d(100),d(110),R(),R(),S(3),d(6),D.size2,C.black,d(2),D.size1,C.black,S(1),S(2)),T=B.c.div(U(),d(-18),d(-18),d(48),d(48),(function(n){return n.isOpen?C.secondary:C.secondaryLight}),D.size0,C.white);function Z(n){var e=n.name,t=n.address,o=n.hours,c=n.image,i=Object(a.useState)(!1),u=Object(f.a)(i,2),s=u[0],l=u[1],m=Object(a.useMemo)((function(){return o.length}),[o]);Object(a.useEffect)((function(){l(m>0&&k(o)),setInterval((function(){return l(m>0&&k(o))}),6e4)}),[o,m]);var d=Object(a.useMemo)((function(){return m>0&&s?"Aberto agora":"Fechado"}),[m,s]);return r.a.createElement(I,{href:"#","data-testid":"restaurant"},r.a.createElement("img",{src:c,alt:"Logo"}),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,e),r.a.createElement("p",null,t),m>0&&r.a.createElement("div",{className:"hours"},r.a.createElement("p",null,"hor\xe1rios"),r.a.createElement("div",null,o.map((function(n,e){return r.a.createElement("p",{key:e},r.a.createElement("span",null,n.from)," - ",r.a.createElement("span",null,n.to))}))))),r.a.createElement(T,{className:"flag",isOpen:s},r.a.createElement("span",null,d)))}Z.defaultProps={hours:[]};var P=t(43),G=t.n(P).a.create({baseURL:"https://challange.goomer.com.br"}),K=[{id:1,name:"Cupcake para todos",address:"Rua dos Sonhos, 310",hours:[{from:"09:00",to:"18:00",days:[2,3,4,5,6]},{from:"11:00",to:"20:00",days:[7,1]}],image:"https://images.unsplash.com/photo-1525640788966-69bdb028aa73?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=d53c30ba55d9ca863d57fabfffdb416b&auto=format&fit=crop&w=1047&q=80"},{id:2,name:"Comida de rep\xfablica",address:"Rua, 890",hours:[{from:"12:00",to:"15:00",days:[2,3,4,5,6]},{from:"19:00",to:"23:00",days:[2,3,4,5]},{from:"19:00",to:"02:20",days:[6,7,1]}],image:"https://images.unsplash.com/photo-1520209268518-aec60b8bb5ca?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=b2b04f771779f9ce281cb3e6035f360e&auto=format&fit=crop&w=884&q=80"},{id:3,name:"Comida de m\xe3e",image:"https://images.unsplash.com/photo-1527756898251-203e9ce0d9c4?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6571e314f2e91127c49108ecaabffdaf&auto=format&fit=crop&w=1054&q=80",address:"Rua da minha casa, 417"}],V=t(44),X=t(106);function Y(){var n=Object(z.a)(["\n  width: 100%;\n  margin: 0 auto;\n\n  display: block;\n\n  text-align: center;\n  color: ",";\n"]);return Y=function(){return n},n}function $(){var n=Object(z.a)(["\n  margin: 0 auto;\n\n  display: block;\n"]);return $=function(){return n},n}function _(){var n=Object(z.a)(["\n  margin: 0 ",";\n\n  display: grid;\n  justify-items: center;\n  row-gap: ",";\n  column-gap: ",";\n  grid-template-columns: repeat(3, 1fr);\n\n  @media screen and (max-width: 1100px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media screen and (max-width: 770px) {\n    grid-template-columns: 1fr;\n  }\n"]);return _=function(){return n},n}function nn(){var n=Object(z.a)(["\n    padding: 0 20px;\n  "]);return nn=function(){return n},n}function en(){var n=Object(z.a)(["\n  width: 100%;\n  margin: 0 auto;\n  max-width: 1100px;\n\n  ","\n\n  header {\n    margin-bottom: ",";\n\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    h1 {\n      margin-bottom: ",";\n\n      ",";\n      text-align: center;\n    }\n  }\n"]);return en=function(){return n},n}var tn=B.c.div(en(),V.a.lessThan("large")(nn()),S(5),S(4),D.size3),an=B.c.div(_(),S(.5),S(4),S(6)),rn=Object(B.c)(X.a).attrs({color:C.primary,size:120})($()),on=B.c.span(Y(),(function(n){return"error"===n.type?C.danger:C.black}));function cn(){var n=Object(a.useState)([]),e=Object(f.a)(n,2),t=e[0],o=e[1],c=Object(a.useState)([]),u=Object(f.a)(c,2),s=u[0],l=u[1],d=Object(a.useState)(""),b=Object(f.a)(d,2),p=b[0],h=b[1],g=Object(a.useState)(!1),v=Object(f.a)(g,2),j=v[0],y=v[1],O=Object(a.useState)(!1),x=Object(f.a)(O,2),E=x[0],w=x[1];Object(a.useEffect)((function(){!function(){var n,e;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,m.a.awrap(G.get("restaurants"));case 4:n=t.sent,e=n.data,y(!1),o(K),l(e),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),y(!0),i.b.error("Algo deu errado ao buscar os restaurantes, tente novamente mais tarde!");case 15:return t.prev=15,w(!1),t.finish(15);case 18:case"end":return t.stop()}}),null,null,[[1,11,15,18]])}()}),[]);var k=Object(a.useCallback)((function(){var n=function(n){var e=n.allRestaurants,t=n.restaurantName;return e.filter((function(n){var e=n.name.toUpperCase(),a=t.toUpperCase();return e.indexOf(a)>-1}))}({allRestaurants:s,restaurantName:p});return o(n)}),[s,p]);Object(a.useEffect)((function(){k()}),[p]);var z=Object(a.useCallback)((function(){return E?r.a.createElement(rn,null):j?r.a.createElement(on,{type:"error"},"Algo deu errado ao ao buscar restaurantes :/"):0===t.length?r.a.createElement(on,null,"Nada foi encontrado..."):r.a.createElement(an,null,t.map((function(n){return r.a.createElement(Z,Object.assign({key:n.id},n))})))}),[j,E,t]);return r.a.createElement(tn,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Bem-vindo ao Lista Rango"),r.a.createElement(Q,{searchRestaurant:p,setSearchRestaurant:h})),z())}function un(){return r.a.createElement(u.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:cn})))}c.a.render(r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(H,null),r.a.createElement(un,null),r.a.createElement(i.a,{autoClose:4e3}))}),null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.13971a2b.chunk.js.map