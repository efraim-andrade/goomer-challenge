(this["webpackJsonpgoomer-challenge"]=this["webpackJsonpgoomer-challenge"]||[]).push([[0],{49:function(n,e,t){n.exports=t(95)},95:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(15),c=t.n(o),i=t(20),u=t(45),l=t(13),s=t(23),m=t.n(s),f=t(14);function d(n){return"".concat(n/16,"rem")}var b=t(100),p=t(101),g=t(102),h=t(103),v=t(104),j=t(38);function O(n){return Number(n.split(":")[0])}function x(n){return Number(n.split(":")[1])}function E(n){return Object(j.parseFromTimeZone)(n,{timeZone:"America/Bahia"})}function y(n){var e=n.hours,t=n.minutes,r=(new Date).setHours(0),a=new Date(r).setMinutes(0),o=E(new Date(a));return Object(b.a)(Object(p.a)(o,e),t)}function w(n){return n.filter((function(n){var e=E(new Date).getDay()+1;if(0===n.days.filter((function(n){return n===e})).length)return!1;var t,r=new Date,a=y({hours:O(n.from),minutes:x(n.from)});return t=O(n.to)<O(n.from)?Object(g.a)(y({hours:O(n.to),minutes:x(n.to)}),1):y({hours:O(n.to),minutes:x(n.to)}),console.log("now",r),console.log("from",a),console.log("to",t),Object(h.a)(r,a)&&Object(v.a)(r,t)})).length>0}var k=t(5),z=t(3),B={primary:"#009CA3",secondary:"#2B0D61",secondaryLight:"#B5ABD4",white:"#fff",grey:"#FBFBFB",black:"#404040",dark:"#000",danger:"#f55"},C={size0:{"font-size":"".concat(.5,"rem")},size1:{"font-size":"".concat(.75,"rem")},size2:{"font-size":"".concat(1,"rem")},size3:{"font-size":"".concat(1.5,"rem")}},D=(d(1300),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d(4*n)}),N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return d(8*n)};t(72);function R(){var n=Object(k.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:400,500,700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  *:focus {\n    outline: 0;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font-family: Montserrat, sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    list-style: none;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  p, span {\n    backface-visibility: hidden;\n  }\n"]);return R=function(){return n},n}var S=Object(z.a)(R());function A(){var n=Object(k.a)(["\n  width: 100vw;\n  height: ",";\n  box-shadow: 0px 4px 8px #00000029;\n  margin-bottom: ",";\n\n  background-color: ",";\n"]);return A=function(){return n},n}var F=z.c.div(A(),d(62),N(4),B.primary);function L(){return a.a.createElement(F,null)}var M=t(47);function U(){var n=Object(k.a)(["\n  height: ",";\n  width: 80%;\n  max-width: ",";\n  box-shadow: 0px 2px 4px #00000029;\n  padding: 0 ",";\n  border-radius: ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  background: ",";\n\n  > input {\n    border: none;\n    width: 100%;\n\n    font-weight: 500;\n    color: ",";\n    background: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  > button {\n    border: none;\n\n    background: transparent;\n  }\n"]);return U=function(){return n},n}var I=z.c.div(U(),N(5),d(840),N(3),D(10),B.grey,B.black,B.grey,B.black);function J(n){var e=n.searchRestaurant,t=n.setSearchRestaurant;return a.a.createElement(I,null,a.a.createElement("input",{type:"text",value:e,placeholder:"Buscar estabelecimento",onChange:function(n){return t(n.target.value)}}),a.a.createElement("button",{type:"button",onClick:function(){}},a.a.createElement(M.a,{size:16,color:B.black})))}function T(){var n=Object(k.a)(["\n  position: absolute;\n  right: ",";\n  top: ",";\n\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: 0.3s;\n  background: ",";\n\n  > span {\n    ",";\n    font-weight: 700;\n    text-align: center;\n    color: ",";\n  }\n"]);return T=function(){return n},n}function Z(){var n=Object(k.a)(["\n  position: relative;\n\n  width: 100%;\n  max-width: ",";\n  box-shadow: 0px 2px 4px #00000029;\n  border-radius: ",";\n\n  display: flex;\n  align-items: center;\n\n  cursor: pointer;\n\n  &:hover {\n    > .flag {\n      transform: scale(1.3);\n    }\n  }\n\n  > img {\n    width: ",";\n    height: ",";\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n\n    object-fit: cover;\n  }\n\n  .info {\n    margin-left: ",";\n\n    > h1 {\n      margin-bottom: ",";\n\n      ",";\n      font-weight: 500;\n      color: ",";\n    }\n\n    p {\n      & + p {\n        margin-top: ",";\n      }\n\n      ",";\n      font-weight: 400;\n      color: ",";\n    }\n\n    > .hours {\n      margin-top: ",";\n\n      display: flex;\n      align-items: center;\n\n      > p {\n        margin-right: ",";\n\n        font-weight: 700;\n      }\n    }\n  }\n"]);return Z=function(){return n},n}var H=z.c.a(Z(),d(367),D(),d(100),d(110),D(),D(),N(3),d(6),C.size2,B.black,d(2),C.size1,B.black,N(1),N(2)),P=z.c.div(T(),d(-18),d(-18),d(48),d(48),(function(n){return n.isOpen?B.secondary:B.secondaryLight}),C.size0,B.white);function q(n){var e=n.name,t=n.address,o=n.hours,c=n.image,i=Object(r.useState)(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],m=Object(r.useMemo)((function(){return o.length}),[o]);Object(r.useEffect)((function(){s(m>0&&w(o)),setInterval((function(){return s(m>0&&w(o))}),6e4)}),[o,m]);var d=Object(r.useMemo)((function(){return m>0&&l?"Aberto agora":"Fechado"}),[m,l]);return a.a.createElement(H,{href:"#","data-testid":"restaurant"},a.a.createElement("img",{src:c,alt:"Logo"}),a.a.createElement("div",{className:"info"},a.a.createElement("h1",null,e),a.a.createElement("p",null,t),m>0&&a.a.createElement("div",{className:"hours"},a.a.createElement("p",null,"hor\xe1rios"),a.a.createElement("div",null,o.map((function(n,e){return a.a.createElement("p",{key:e},a.a.createElement("span",null,n.from)," - ",a.a.createElement("span",null,n.to))}))))),a.a.createElement(P,{className:"flag",isOpen:l},a.a.createElement("span",null,d)))}q.defaultProps={hours:[]};var G=t(42),K=t.n(G).a.create({baseURL:"https://challange.goomer.com.br"}),Q=t(43),V=t(105);function W(){var n=Object(k.a)(["\n  width: 100%;\n  margin: 0 auto;\n\n  display: block;\n\n  text-align: center;\n  color: ",";\n"]);return W=function(){return n},n}function X(){var n=Object(k.a)(["\n  margin: 0 auto;\n\n  display: block;\n"]);return X=function(){return n},n}function Y(){var n=Object(k.a)(["\n  margin: 0 ",";\n\n  display: grid;\n  justify-items: center;\n  row-gap: ",";\n  column-gap: ",";\n  grid-template-columns: repeat(3, 1fr);\n\n  @media screen and (max-width: 1100px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media screen and (max-width: 770px) {\n    grid-template-columns: 1fr;\n  }\n"]);return Y=function(){return n},n}function $(){var n=Object(k.a)(["\n    padding: 0 20px;\n  "]);return $=function(){return n},n}function _(){var n=Object(k.a)(["\n  width: 100%;\n  margin: 0 auto;\n  max-width: 1100px;\n\n  ","\n\n  header {\n    margin-bottom: ",";\n\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    h1 {\n      margin-bottom: ",";\n\n      ",";\n      text-align: center;\n    }\n  }\n"]);return _=function(){return n},n}var nn=z.c.div(_(),Q.a.lessThan("large")($()),N(5),N(4),C.size3),en=z.c.div(Y(),N(.5),N(4),N(6)),tn=Object(z.c)(V.a).attrs({color:B.primary,size:120})(X()),rn=z.c.span(W(),(function(n){return"error"===n.type?B.danger:B.black}));function an(){var n=Object(r.useState)([]),e=Object(f.a)(n,2),t=e[0],o=e[1],c=Object(r.useState)([]),u=Object(f.a)(c,2),l=u[0],s=u[1],d=Object(r.useState)(""),b=Object(f.a)(d,2),p=b[0],g=b[1],h=Object(r.useState)(!1),v=Object(f.a)(h,2),j=v[0],O=v[1],x=Object(r.useState)(!1),E=Object(f.a)(x,2),y=E[0],w=E[1];Object(r.useEffect)((function(){!function(){var n,e;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,m.a.awrap(K.get("restaurants"));case 4:n=t.sent,e=n.data,O(!1),o(e),s(e),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),O(!0),i.b.error("Algo deu errado ao buscar os restaurantes, tente novamente mais tarde!");case 15:return t.prev=15,w(!1),t.finish(15);case 18:case"end":return t.stop()}}),null,null,[[1,11,15,18]])}()}),[]);var k=Object(r.useCallback)((function(){var n=function(n){var e=n.allRestaurants,t=n.restaurantName;return e.filter((function(n){var e=n.name.toUpperCase(),r=t.toUpperCase();return e.indexOf(r)>-1}))}({allRestaurants:l,restaurantName:p});return o(n)}),[l,p]);Object(r.useEffect)((function(){k()}),[p]);var z=Object(r.useCallback)((function(){return y?a.a.createElement(tn,null):j?a.a.createElement(rn,{type:"error"},"Algo deu errado ao ao buscar restaurantes :/"):0===t.length?a.a.createElement(rn,null,"Nada foi encontrado..."):a.a.createElement(en,null,t.map((function(n){return a.a.createElement(q,Object.assign({key:n.id},n))})))}),[j,y,t]);return a.a.createElement(nn,null,a.a.createElement("header",null,a.a.createElement("h1",null,"Bem-vindo ao Lista Rango"),a.a.createElement(J,{searchRestaurant:p,setSearchRestaurant:g})),z())}function on(){return a.a.createElement(u.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/",exact:!0,component:an})))}c.a.render(a.a.createElement((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S,null),a.a.createElement(L,null),a.a.createElement(on,null),a.a.createElement(i.a,{autoClose:4e3}))}),null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.3dd53758.chunk.js.map